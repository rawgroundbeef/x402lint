<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>x402check â€” Validate x402 Payment Configs</title>
  <meta name="description" content="Lint for x402. Validate and create x402 payment configurations â€” zero dependencies.">
  <meta property="og:title" content="x402check â€” Lint for x402">
  <meta property="og:description" content="Validate and create x402 payment configurations â€” zero dependencies.">
  <meta property="og:image" content="https://x402check.com/og.png">
  <meta property="og:url" content="https://x402check.com">
  <meta property="og:type" content="website">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="x402check â€” Lint for x402">
  <meta name="twitter:description" content="Validate and create x402 payment configurations â€” zero dependencies.">
  <meta name="twitter:image" content="https://x402check.com/og.png">
  <link rel="icon" href="favicon.ico" sizes="any">
  <link rel="icon" href="favicon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="apple-touch-icon.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Geist:wght@400;500;600;700;900&family=Geist+Mono:wght@400;500&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-deep: #0a0f14;
      --bg-surface: #1a2230;
      --bg-elevated: #232d3e;
      --border: #252d3a;
      --text-primary: #ffffff;
      --text-secondary: #c9d1d9;
      --text-muted: #8b949e;
      --accent: #00d992;
      --accent-dim: rgba(0, 217, 146, 0.15);
      --error: #f85149;
      --error-dim: rgba(248, 81, 73, 0.15);
      --warning: #d29922;
      --warning-dim: rgba(210, 153, 34, 0.15);
      --info: #58a6ff;
    }

    html[data-theme="light"] {
      --bg-deep: #f5f7fa;
      --bg-surface: #ffffff;
      --bg-elevated: #eef1f5;
      --border: #d0d7de;
      --text-primary: #1f2328;
      --text-secondary: #59636e;
      --text-muted: #8b949e;
      --accent: #00d992;
      --accent-dim: rgba(0, 217, 146, 0.12);
      --error: #d1242f;
      --error-dim: rgba(209, 36, 47, 0.1);
      --warning: #9a6700;
      --warning-dim: rgba(154, 103, 0, 0.1);
      --info: #0969da;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Geist', -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--bg-deep);
      color: var(--text-primary);
      line-height: 1.6;
      min-height: 100vh;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      transition: background-color 0.2s, color 0.2s;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 48px 24px;
    }

    /* Header */
    .header {
      text-align: center;
      margin-bottom: 40px;
    }

    .logo {
      display: inline-flex;
      align-items: center;
      font-size: 36px;
      font-weight: 900;
      margin-bottom: 0;
    }

    .logo-402 {
      color: var(--text-primary);
    }

    .logo-check {
      background: linear-gradient(135deg, var(--accent), #00b377);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    html[data-theme="light"] .logo-check {
      background: linear-gradient(135deg, var(--accent), #00b377);
      -webkit-background-clip: text;
      background-clip: text;
    }

    .logo-icon {
      width: 32px;
      height: 32px;
      margin-right: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .logo-icon svg {
      width: 32px;
      height: 32px;
    }


    .tagline {
      color: var(--text-secondary);
      font-size: 15px;
      font-weight: 400;
      margin-top: -12px;
      letter-spacing: 0.12em;
    }

    /* Card */
    .card {
      background: var(--bg-surface);
      border: 1px solid var(--border);
      border-radius: 16px;
      overflow: hidden;
    }

    /* Examples Section */
    .examples-section {
      border-top: 1px solid var(--border);
    }

    .examples-header {
      padding: 16px 20px;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-weight: 500;
      color: var(--text-secondary);
      transition: background 0.15s;
    }

    .examples-header:hover {
      background: var(--bg-elevated);
    }

    .examples-section[open] .examples-header {
      border-bottom: 1px solid var(--border);
    }

    .examples-section[open] .arrow {
      transform: rotate(90deg);
    }

    .arrow {
      transition: transform 0.15s;
      color: var(--text-muted);
    }

    .examples-content {
      padding: 20px;
      background: var(--bg-elevated);
    }

    /* Tabs */
    .tabs {
      display: flex;
      gap: 8px;
      margin-bottom: 16px;
      flex-wrap: wrap;
    }

    .tab {
      padding: 8px 14px;
      background: var(--bg-elevated);
      border: 1px solid var(--border);
      border-radius: 8px;
      color: var(--text-secondary);
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.15s;
    }

    .tab:hover {
      border-color: var(--text-muted);
      color: var(--text-primary);
    }

    .tab.active {
      background: var(--accent);
      border-color: var(--accent);
      color: var(--bg-deep);
    }

    /* Code Block */
    .code-block {
      background: var(--bg-deep);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 16px;
      font-family: 'JetBrains Mono', monospace;
      font-size: 12px;
      overflow-x: auto;
      margin-bottom: 16px;
      white-space: pre;
      line-height: 1.5;
    }

    .code-block .key { color: #9cdcfe; }
    .code-block .string { color: #ce9178; }
    .code-block .number { color: #b5cea8; }

    html[data-theme="light"] .code-block .key { color: #0451a5; }
    html[data-theme="light"] .code-block .string { color: #a31515; }
    html[data-theme="light"] .code-block .number { color: #098658; }

    html[data-theme="light"] .code-block {
      background: #ffffff;
    }

    html[data-theme="light"] .example-helper {
      background: #ffffff;
    }

    html[data-theme="light"] .raw-content {
      background: #ffffff;
    }

    html[data-theme="light"] .error-card pre {
      background: #ffffff;
    }

    .example-helper {
      font-size: 13px;
      color: var(--text-secondary);
      margin-bottom: 12px;
      padding: 12px;
      background: var(--bg-deep);
      border-radius: 8px;
      border-left: 3px solid var(--info);
    }

    .load-btn {
      padding: 10px 16px;
      background: var(--bg-elevated);
      border: 1px solid var(--border);
      border-radius: 8px;
      color: var(--text-primary);
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.15s;
    }

    .load-btn:hover {
      background: var(--border);
    }

    /* Input Section */
    .input-section {
      padding: 20px;
    }

    .method-toggle {
      display: inline-flex;
      gap: 6px;
      margin-bottom: 12px;
    }

    .method-pill {
      padding: 6px 14px;
      font-family: 'JetBrains Mono', monospace;
      font-size: 12px;
      font-weight: 600;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.15s;
      border: 1px solid var(--border);
      background: transparent;
      color: var(--text-muted);
    }

    .method-pill:hover {
      color: var(--text-secondary);
      border-color: var(--text-muted);
    }

    .method-pill.active {
      background: var(--bg-elevated);
      color: var(--text-primary);
      border-color: var(--text-muted);
    }

    textarea {
      width: 100%;
      height: 140px;
      background: var(--bg-deep);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 16px;
      font-family: 'JetBrains Mono', monospace;
      font-size: 13px;
      color: var(--text-primary);
      resize: vertical;
      transition: border-color 0.15s;
    }

    textarea::placeholder {
      color: var(--text-muted);
    }

    textarea:focus {
      outline: none;
      border-color: var(--accent);
    }

    .validate-btn {
      width: 100%;
      margin-top: 12px;
      padding: 14px 24px;
      background: var(--accent);
      border: none;
      border-radius: 10px;
      color: var(--bg-deep);
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.15s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .validate-btn:hover {
      filter: brightness(1.1);
    }

    .validate-btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }

    /* Results */
    .results {
      padding: 0;
    }

    .results.hidden {
      display: none;
    }

    /* Checklist */
    .checklist {
      margin-bottom: 20px;
    }

    .check-item {
      display: flex;
      align-items: flex-start;
      gap: 10px;
      padding: 8px 0;
      font-size: 14px;
    }

    .check-icon {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      margin-top: 1px;
    }

    .check-icon.pass {
      background: var(--accent-dim);
      color: var(--accent);
    }

    .check-icon.fail {
      background: var(--error-dim);
      color: var(--error);
    }

    .check-icon.warn {
      background: var(--warning-dim);
      color: var(--warning);
    }

    .check-label {
      color: var(--text-primary);
    }

    .check-detail {
      color: var(--text-muted);
      font-size: 12px;
    }

    /* Format Badge */
    .format-badge-section {
      background: var(--bg-elevated);
      border-radius: 10px;
      padding: 16px;
      margin-bottom: 20px;
    }

    .format-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      flex-wrap: wrap;
    }

    .format-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 12px;
      background: var(--bg-deep);
      border-radius: 6px;
      font-size: 12px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .format-badge.v2 {
      color: var(--accent);
    }

    .format-badge.v1, .format-badge.flat {
      color: var(--warning);
    }

    .upgrade-btn {
      padding: 8px 12px;
      background: transparent;
      border: 1px solid var(--border);
      border-radius: 6px;
      color: var(--text-secondary);
      font-size: 12px;
      cursor: pointer;
      transition: all 0.15s;
    }

    .upgrade-btn:hover {
      border-color: var(--accent);
      color: var(--accent);
    }

    /* Parsed Config */
    .parsed-config {
      background: var(--bg-elevated);
      border-radius: 10px;
      padding: 16px;
    }

    .parsed-title {
      font-size: 13px;
      font-weight: 600;
      color: var(--text-secondary);
      margin-bottom: 12px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .parsed-row {
      display: flex;
      padding: 6px 0;
      font-size: 14px;
      border-bottom: 1px solid var(--border);
    }

    .parsed-row:last-child {
      border-bottom: none;
    }

    .parsed-label {
      width: 100px;
      color: var(--text-muted);
      flex-shrink: 0;
    }

    .parsed-value {
      color: var(--text-primary);
      font-family: 'JetBrains Mono', monospace;
      font-size: 13px;
      word-break: break-all;
    }

    .parsed-value.truncate {
      max-width: 300px;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    /* Errors/Warnings */
    .issues-section {
      margin-bottom: 20px;
    }

    .issue-card {
      padding: 12px;
      border-radius: 8px;
      margin-bottom: 8px;
      font-size: 13px;
    }

    .issue-card.error {
      background: var(--error-dim);
      border: 1px solid color-mix(in srgb, var(--error) 30%, transparent);
    }

    .issue-card.warning {
      background: var(--warning-dim);
      border: 1px solid color-mix(in srgb, var(--warning) 30%, transparent);
    }

    .issue-field {
      font-family: 'JetBrains Mono', monospace;
      font-weight: 500;
      margin-bottom: 4px;
    }

    .issue-card.error .issue-field {
      color: var(--error);
    }

    .issue-card.warning .issue-field {
      color: var(--warning);
    }

    .issue-message {
      color: var(--text-primary);
      margin-bottom: 4px;
    }

    .issue-fix {
      color: var(--text-secondary);
      display: flex;
      align-items: flex-start;
      gap: 4px;
    }

    .issue-fix span {
      color: var(--accent);
    }

    .copy-btn {
      padding: 4px 12px;
      background: var(--bg-elevated);
      border: 1px solid var(--border);
      border-radius: 6px;
      color: var(--text-secondary);
      font-size: 12px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.15s;
    }

    .copy-btn:hover {
      background: var(--border);
      color: var(--text-primary);
    }

    .copy-btn.copied {
      background: var(--accent-dim);
      border-color: var(--accent);
      color: var(--accent);
    }

    /* Fix with AI */
    .fix-with-ai {
      margin-top: 12px;
      padding-top: 12px;
      border-top: 1px solid var(--border);
    }

    .fix-with-ai-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      cursor: pointer;
      padding: 4px 0;
      list-style: none;
    }

    .fix-with-ai-header::-webkit-details-marker {
      display: none;
    }

    .fix-with-ai-title {
      display: flex;
      align-items: center;
      gap: 6px;
      font-family: 'Geist', sans-serif;
      font-size: 13px;
      font-weight: 500;
      color: var(--text-secondary);
    }

    .fix-with-ai-title:hover {
      color: var(--text-primary);
    }

    .fix-with-ai[open] > .fix-with-ai-header .chevron {
      transform: rotate(90deg);
    }

    .fix-with-ai .chevron {
      font-size: 10px;
      transition: transform 0.15s;
    }

    .fix-with-ai-actions {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .prompt-box {
      margin-top: 8px;
      padding: 12px;
      background: var(--bg-deep);
      border: 1px solid var(--border);
      border-radius: 8px;
      font-family: 'JetBrains Mono', monospace;
      font-size: 11px;
      line-height: 1.5;
      color: var(--text-secondary);
      white-space: pre-wrap;
      max-height: 240px;
      overflow-y: auto;
    }

    html[data-theme="light"] .prompt-box {
      background: #ffffff;
    }

    .error-card {
      background: var(--error-dim);
      border: 1px solid color-mix(in srgb, var(--error) 30%, transparent);
      border-radius: 8px;
      padding: 16px;
      margin-bottom: 16px;
      font-size: 13px;
      color: var(--text-primary);
    }

    .error-card pre {
      margin-top: 12px;
      background: var(--bg-deep);
      padding: 12px;
      border-radius: 6px;
      overflow-x: auto;
      font-family: 'JetBrains Mono', monospace;
      font-size: 11px;
      white-space: pre-wrap;
      word-break: break-word;
    }

    /* Status Header */
    .status-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 20px;
    }

    .status-icon {
      width: 48px;
      height: 48px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .status-icon.valid {
      background: var(--accent-dim);
      color: var(--accent);
    }

    .status-icon.invalid {
      background: var(--error-dim);
      color: var(--error);
    }

    .status-text h3 {
      font-size: 20px;
      font-weight: 600;
    }

    .status-text.valid h3 {
      color: var(--accent);
    }

    .status-text.invalid h3 {
      color: var(--error);
    }

    .status-text p {
      font-size: 13px;
      color: var(--text-secondary);
    }

    /* FAQ */
    .faq-section {
      margin-top: 40px;
    }

    .faq-title {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 16px;
      color: var(--text-primary);
    }

    .faq-item {
      border: 1px solid var(--border);
      border-radius: 10px;
      margin-bottom: 8px;
      overflow: hidden;
    }

    .faq-question {
      padding: 14px 16px;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-weight: 500;
      color: var(--text-primary);
      background: var(--bg-surface);
      transition: background 0.15s;
    }

    .faq-question:hover {
      background: var(--bg-elevated);
    }

    .faq-item[open] .faq-question {
      border-bottom: 1px solid var(--border);
    }

    .faq-answer {
      padding: 14px 16px;
      font-size: 14px;
      color: var(--text-secondary);
      background: var(--bg-surface);
      line-height: 1.7;
    }

    .faq-answer code {
      background: var(--bg-deep);
      padding: 2px 6px;
      border-radius: 4px;
      font-family: 'JetBrains Mono', monospace;
      font-size: 12px;
      color: var(--accent);
    }

    .faq-answer a {
      color: var(--info);
      text-decoration: none;
    }

    .faq-answer a:hover {
      text-decoration: underline;
    }

    /* Footer */
    .footer {
      text-align: center;
      padding: 32px 0;
      color: var(--text-muted);
      font-size: 15px;
    }

    .footer a {
      color: var(--info);
      text-decoration: none;
    }

    .footer a:hover {
      text-decoration: underline;
    }

    .raw-content {
      margin-top: 8px;
      background: var(--bg-deep);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 12px;
      font-family: 'JetBrains Mono', monospace;
      font-size: 11px;
      color: var(--text-secondary);
      overflow-x: auto;
      max-height: 200px;
      overflow-y: auto;
      white-space: pre;
    }

    /* Result Card */
    .result-card {
      padding: 8px 20px 16px;
    }

    /* Verdict Line */
    .verdict-line {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .verdict-icon-inline {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }

    .verdict-icon-inline.valid { color: var(--accent); }
    .verdict-icon-inline.invalid { color: var(--error); }

    .verdict-text {
      font-family: 'Geist', sans-serif;
      font-weight: 600;
      font-size: 18px;
    }

    .verdict-text.valid { color: var(--accent); }
    .verdict-text.invalid { color: var(--error); }

    .verdict-count {
      font-family: 'Geist', sans-serif;
      font-size: 18px;
      font-weight: 400;
      color: var(--text-muted);
    }

    .verdict-version {
      margin-left: auto;
      font-family: 'Geist Mono', monospace;
      font-size: 12px;
      font-weight: 500;
      color: var(--text-muted);
      background: var(--bg-elevated);
      border: 1px solid var(--border);
      padding: 2px 8px;
      border-radius: 4px;
    }

    /* Error Messages (shown directly, not expandable) */
    .error-messages {
      margin-top: 8px;
    }

    .error-message {
      font-family: 'Geist', sans-serif;
      font-size: 14px;
      color: var(--text-primary);
      padding: 6px 0;
      border-bottom: 1px solid var(--border);
    }

    .error-message:last-child {
      border-bottom: none;
    }

    .error-message .issue-row-fix {
      color: var(--text-muted);
      font-size: 12px;
    }

    /* Expandable Sections */
    .expand-links {
      margin-top: 12px;
    }

    .expand-section {
      margin-bottom: 0;
    }

    .expand-link {
      display: flex;
      align-items: center;
      gap: 6px;
      font-family: 'Geist', sans-serif;
      font-size: 13px;
      color: var(--text-secondary);
      cursor: pointer;
      padding: 4px 0;
      text-decoration: none;
      list-style: none;
    }

    .expand-link:hover {
      color: var(--text-primary);
    }

    .expand-link::-webkit-details-marker {
      display: none;
    }

    .expand-link .chevron {
      font-size: 10px;
      transition: transform 0.15s;
    }

    .expand-section[open] > .expand-link .chevron {
      transform: rotate(90deg);
    }

    .expand-content {
      padding: 8px 0 8px 18px;
    }

    /* Warning rows inside expandable */
    .warning-row {
      display: flex;
      align-items: baseline;
      gap: 10px;
      padding: 4px 0;
      font-size: 13px;
      color: var(--text-primary);
      border-bottom: 1px solid var(--border);
    }

    .warning-row:last-child {
      border-bottom: none;
    }

    .warning-field {
      font-family: 'JetBrains Mono', monospace;
      font-size: 12px;
      font-weight: 500;
      color: var(--warning);
      min-width: 64px;
      flex-shrink: 0;
    }

    /* Check rows inside expandable endpoint checks */
    .check-row {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 4px 0;
      font-size: 13px;
    }

    .check-row.pass { color: var(--accent); }
    .check-row.fail { color: var(--error); }

    .expand-content .copy-btn {
      margin-left: auto;
    }

    .issue-row-message {
      color: var(--text-primary);
      line-height: 1.4;
    }

    .issue-row-fix {
      color: var(--text-secondary);
    }

    /* Integration Cards */
    .integrations-section {
      margin: 48px 0;
    }

    .integrations-header {
      font-size: 12px;
      font-weight: 600;
      letter-spacing: 0.05em;
      text-transform: uppercase;
      color: var(--text-muted);
      margin-bottom: 20px;
    }

    .integrations-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 16px;
      align-items: stretch;
    }

    @media (max-width: 600px) {
      .integrations-grid {
        grid-template-columns: 1fr;
      }
    }

    .integration-card {
      background: var(--bg-surface);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 16px;
      text-align: left;
      display: flex;
      flex-direction: column;
      min-width: 0;
    }

    .integration-icon {
      font-size: 20px;
      opacity: 0.9;
    }

    .integration-header {
      display: flex;
      align-items: center;
      justify-content: flex-start;
      gap: 8px;
      margin-bottom: 4px;
    }

    .integration-title {
      font-family: 'Geist', sans-serif;
      font-weight: 600;
      font-size: 15px;
      color: var(--text-primary);
    }

    .integration-subtitle {
      font-family: 'JetBrains Mono', monospace;
      font-size: 13px;
      color: var(--text-secondary);
      margin-bottom: 16px;
    }

    .integration-desc {
      font-size: 13px;
      color: var(--text-muted);
      margin-bottom: 16px;
      line-height: 1.4;
      flex: 1;
    }

    .integration-cta {
      display: flex;
      align-items: center;
      background: var(--bg-deep);
      border: 1px solid var(--border);
      border-radius: 6px;
      padding: 0;
      overflow: hidden;
      min-width: 0;
      max-width: 100%;
    }

    .integration-cta code {
      font-family: 'Geist Mono', 'JetBrains Mono', monospace;
      font-size: 12px;
      color: var(--text-secondary);
      padding: 8px 10px;
      flex: 1;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      text-align: left;
    }

    .integration-cta .copy-btn {
      background: none;
      border: none;
      color: var(--text-muted);
      cursor: pointer;
      padding: 8px 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: color 0.15s;
    }

    .integration-cta .copy-btn:hover {
      color: var(--text-primary);
    }

    .integration-cta .copy-btn.copied {
      color: var(--accent);
    }

    .integration-cta .copy-btn svg {
      width: 14px;
      height: 14px;
    }

    .integration-card.available .integration-icon {
      opacity: 1;
    }

    .integration-card.coming-soon {
      opacity: 0.5;
      cursor: default;
    }

    .integration-card.coming-soon .integration-cta {
      color: var(--text-muted);
    }

    .copy-toast {
      position: fixed;
      bottom: 24px;
      right: 24px;
      background: var(--accent);
      border: none;
      width: 280px;
      padding: 12px 20px;
      border-radius: 8px;
      font-size: 13px;
      color: #0a0f14;
      font-weight: 500;
      text-align: left;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      animation: fadeInUp 0.2s ease;
      z-index: 100;
      pointer-events: none;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Schema Section */
    .schema-section {
      margin: 48px 0;
    }

    .schema-header {
      font-size: 12px;
      font-weight: 600;
      letter-spacing: 0.05em;
      text-transform: uppercase;
      color: var(--text-muted);
      margin-bottom: 12px;
    }

    .schema-intro {
      font-size: 14px;
      color: var(--text-secondary);
      line-height: 1.7;
      margin-bottom: 24px;
    }

    .schema-card {
      background: var(--bg-surface);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 16px;
    }

    .schema-card-title {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 8px;
    }

    .schema-card-title h3 {
      font-size: 16px;
      font-weight: 600;
      color: var(--text-primary);
    }

    .schema-badge {
      display: inline-block;
      padding: 3px 10px;
      border-radius: 20px;
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .schema-badge.recommended {
      background: var(--accent-dim);
      color: var(--accent);
    }

    .schema-badge.legacy {
      background: var(--warning-dim);
      color: var(--warning);
    }

    .schema-card-desc {
      font-size: 14px;
      color: var(--text-secondary);
      line-height: 1.6;
      margin-bottom: 16px;
    }

    .schema-card .code-block {
      margin-bottom: 12px;
    }

    .schema-card-note {
      font-size: 13px;
      color: var(--text-secondary);
      padding: 12px;
      background: var(--bg-elevated);
      border-radius: 8px;
      border-left: 3px solid var(--info);
      line-height: 1.6;
    }

    .schema-card-note.tip {
      border-left-color: var(--accent);
    }

    .schema-card-note.warn {
      border-left-color: var(--warning);
    }

    .schema-card-note code {
      background: var(--bg-deep);
      padding: 2px 6px;
      border-radius: 4px;
      font-family: 'JetBrains Mono', monospace;
      font-size: 12px;
      color: var(--accent);
    }

    .schema-sources {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 24px;
    }

    .schema-source-link {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 8px 14px;
      background: var(--bg-surface);
      border: 1px solid var(--border);
      border-radius: 20px;
      font-size: 13px;
      color: var(--text-secondary);
      text-decoration: none;
      transition: border-color 0.15s, color 0.15s;
    }

    .schema-source-link:hover {
      border-color: var(--accent);
      color: var(--text-primary);
    }

    @media (max-width: 600px) {
      .schema-sources {
        flex-direction: column;
      }

      .schema-source-link {
        justify-content: center;
      }
    }

    /* Theme Toggle */
    .github-link {
      position: fixed;
      top: 16px;
      left: 16px;
      z-index: 1000;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: var(--bg-surface);
      border: 1px solid var(--border);
      color: var(--text-secondary);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background-color 0.2s, border-color 0.2s, color 0.2s;
      padding: 0;
      text-decoration: none;
    }

    .github-link:hover {
      border-color: var(--text-muted);
      color: var(--text-primary);
    }

    .github-link svg {
      width: 18px;
      height: 18px;
      fill: currentColor;
    }

    .theme-toggle {
      position: fixed;
      top: 16px;
      right: 16px;
      z-index: 1000;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: var(--bg-surface);
      border: 1px solid var(--border);
      color: var(--text-secondary);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background-color 0.2s, border-color 0.2s, color 0.2s;
      padding: 0;
    }

    .theme-toggle:hover {
      border-color: var(--text-muted);
      color: var(--text-primary);
    }

    .theme-toggle .icon-sun,
    .theme-toggle .icon-moon {
      width: 18px;
      height: 18px;
    }

    /* Dark mode: show sun icon (to switch to light) */
    .theme-toggle .icon-sun { display: block; }
    .theme-toggle .icon-moon { display: none; }

    /* Light mode: show moon icon (to switch to dark) */
    html[data-theme="light"] .theme-toggle .icon-sun { display: none; }
    html[data-theme="light"] .theme-toggle .icon-moon { display: block; }
  </style>
  <script>
    // Apply theme before first paint to prevent flash
    (function() {
      var saved = localStorage.getItem('x402check-theme');
      if (saved) {
        document.documentElement.setAttribute('data-theme', saved);
      } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches) {
        document.documentElement.setAttribute('data-theme', 'light');
      }
    })();
  </script>
</head>
<body>
  <a class="github-link" href="https://github.com/rawgroundbeef/x402check" target="_blank" rel="noopener" aria-label="GitHub">
    <svg viewBox="0 0 16 16"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/></svg>
  </a>
  <button class="theme-toggle" id="themeToggle" aria-label="Toggle light/dark mode">
    <svg class="icon-sun" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <circle cx="12" cy="12" r="5"/>
      <line x1="12" y1="1" x2="12" y2="3"/>
      <line x1="12" y1="21" x2="12" y2="23"/>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
      <line x1="1" y1="12" x2="3" y2="12"/>
      <line x1="21" y1="12" x2="23" y2="12"/>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
    </svg>
    <svg class="icon-moon" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/>
    </svg>
  </button>
  <div class="container">
    <!-- Header -->
    <header class="header">
      <div class="logo">
        <span class="logo-icon">
          <svg width="32" height="32" viewBox="0 0 89 89" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="89" height="89" rx="16" fill="#00D992"/><path d="M31 45L39.6786 54L58 35" stroke="white" stroke-width="11.25" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </span>
        <span class="logo-402">x402</span><span class="logo-check">check</span>
      </div>
      <p class="tagline">Lint for x402</p>
    </header>

    <!-- Main Card -->
    <div class="card">
      <!-- Input -->
      <div class="input-section">
        <div class="method-toggle" id="method-toggle">
          <button class="method-pill active" data-method="GET">GET</button>
          <button class="method-pill" data-method="POST">POST</button>
        </div>
        <textarea id="input" placeholder="Paste a URL or JSON config..."></textarea>
        <button class="validate-btn" id="validate">
          <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>
          Validate
        </button>
      </div>

      <!-- Results -->
      <div class="results hidden" id="results"></div>

      <!-- Examples -->
      <details class="examples-section" id="examples-section">
        <summary class="examples-header">
          <span>See Example Configs</span>
          <span class="arrow">â–¶</span>
        </summary>
        <div class="examples-content">
          <div class="tabs">
            <button class="tab active" data-tab="v2">v2 (Recommended)</button>
            <button class="tab" data-tab="v1">v1</button>
            <button class="tab" data-tab="marketplace">+ Marketplace</button>
          </div>

          <div id="example-v2" class="example-panel">
            <div class="code-block">{
  <span class="key">"x402Version"</span>: <span class="number">2</span>,
  <span class="key">"resource"</span>: {
    <span class="key">"url"</span>: <span class="string">"https://api.example.com/endpoint"</span>
  },
  <span class="key">"accepts"</span>: [{
    <span class="key">"scheme"</span>: <span class="string">"exact"</span>,
    <span class="key">"network"</span>: <span class="string">"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp"</span>,
    <span class="key">"payTo"</span>: <span class="string">"5F5Yy9qJov8xK67vEWRoZHppWHEmH3WuG7mSfvLuqUTz"</span>,
    <span class="key">"asset"</span>: <span class="string">"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"</span>,
    <span class="key">"amount"</span>: <span class="string">"25000"</span>,
    <span class="key">"maxTimeoutSeconds"</span>: <span class="number">300</span>
  }]
}</div>
            <div class="example-helper">Canonical v2 format. Recommended for all new endpoints.</div>
          </div>

          <div id="example-v1" class="example-panel" style="display: none;">
            <div class="code-block">{
  <span class="key">"x402Version"</span>: <span class="number">1</span>,
  <span class="key">"accepts"</span>: [{
    <span class="key">"scheme"</span>: <span class="string">"exact"</span>,
    <span class="key">"network"</span>: <span class="string">"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp"</span>,
    <span class="key">"payTo"</span>: <span class="string">"5F5Yy9qJov8xK67vEWRoZHppWHEmH3WuG7mSfvLuqUTz"</span>,
    <span class="key">"maxAmountRequired"</span>: <span class="string">"25000"</span>,
    <span class="key">"asset"</span>: <span class="string">"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"</span>
  }]
}</div>
            <div class="example-helper">v1 format. Uses maxAmountRequired instead of amount. Consider upgrading to v2.</div>
          </div>

          <div id="example-marketplace" class="example-panel" style="display: none;">
            <div class="code-block">{
  <span class="key">"x402Version"</span>: <span class="number">2</span>,
  <span class="key">"resource"</span>: {
    <span class="key">"url"</span>: <span class="string">"https://api.example.com/endpoint"</span>
  },
  <span class="key">"accepts"</span>: [{
    <span class="key">"scheme"</span>: <span class="string">"exact"</span>,
    <span class="key">"network"</span>: <span class="string">"eip155:8453"</span>,
    <span class="key">"payTo"</span>: <span class="string">"0x1234567890abcdef1234567890abcdef12345678"</span>,
    <span class="key">"asset"</span>: <span class="string">"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913"</span>,
    <span class="key">"amount"</span>: <span class="string">"10000"</span>,
    <span class="key">"maxTimeoutSeconds"</span>: <span class="number">300</span>
  }],
  <span class="key">"extensions"</span>: {
    <span class="key">"outputSchema"</span>: {
      <span class="key">"type"</span>: <span class="string">"object"</span>,
      <span class="key">"properties"</span>: { <span class="key">"result"</span>: { <span class="key">"type"</span>: <span class="string">"string"</span> } }
    },
    <span class="key">"metadata"</span>: {
      <span class="key">"name"</span>: <span class="string">"My API"</span>,
      <span class="key">"description"</span>: <span class="string">"Does something useful"</span>,
      <span class="key">"category"</span>: <span class="string">"ai"</span>
    }
  }
}</div>
            <div class="example-helper">v2 + marketplace metadata in extensions. Required for x402jobs listing.</div>
          </div>

          <button class="load-btn" id="load-example">Load into validator</button>
        </div>
      </details>
    </div>

    <!-- Integration Cards -->
    <div class="integrations-section">
      <div class="integrations-header">Integrate</div>
      <div class="integrations-grid">
        <div class="integration-card available" id="npm-card">
          <div class="integration-header"><span class="integration-icon">ðŸ“¦</span><span class="integration-title">npm</span></div>
          <div class="integration-desc">Validate configs in your app, server, or website</div>
          <div class="integration-cta">
            <code>npm i x402check</code>
            <button class="copy-btn" data-copy="npm i x402check" aria-label="Copy"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg></button>
          </div>
        </div>
        <div class="integration-card available" id="cli-card">
          <div class="integration-header"><span class="integration-icon">&gt;_</span><span class="integration-title">CLI</span></div>
          <div class="integration-desc">Check endpoints from your terminal</div>
          <div class="integration-cta">
            <code>npx x402check</code>
            <button class="copy-btn" data-copy="npx x402check" aria-label="Copy"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg></button>
          </div>
        </div>
        <div class="integration-card available" id="skill-card">
          <div class="integration-header"><span class="integration-icon">ðŸ¤–</span><span class="integration-title">Claude Skill</span></div>
          <div class="integration-desc">Teach Claude to create valid x402 configs</div>
          <div class="integration-cta">
            <code>npx skills add --skill x402check</code>
            <button class="copy-btn" data-copy="npx skills add https://github.com/rawgroundbeef/x402check --skill x402check" aria-label="Copy"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg></button>
          </div>
        </div>
      </div>
    </div>

    <!-- Define Your Schema -->
    <div class="schema-section" id="schema-section">
      <div class="schema-header">Define Your Schema</div>
      <p class="schema-intro">
        When an agent pays for your resource, it needs to know <em>how to call it</em> &mdash; what parameters to send and what response to expect. x402 has two ways to declare this: the V2 Bazaar extension (recommended) and the V1 outputSchema field.
      </p>

      <!-- V2 Bazaar -->
      <div class="schema-card">
        <div class="schema-card-title">
          <h3>V2 Bazaar Extension</h3>
          <span class="schema-badge recommended">Recommended</span>
        </div>
        <p class="schema-card-desc">
          Add <code>extensions.bazaar</code> to your 402 response. It has two parts: <code>info</code> (an example showing how to call your API) and <code>schema</code> (a JSON Schema defining types and constraints). Together, they let agents understand and validate requests before paying.
        </p>
        <div class="code-block">{
  <span class="key">"x402Version"</span>: <span class="number">2</span>,
  <span class="key">"accepts"</span>: [{ <span class="string">/* ...payment config... */</span> }],
  <span class="key">"extensions"</span>: {
    <span class="key">"bazaar"</span>: {
      <span class="key">"info"</span>: {
        <span class="key">"input"</span>: {
          <span class="key">"type"</span>: <span class="string">"http"</span>,
          <span class="key">"method"</span>: <span class="string">"GET"</span>,
          <span class="key">"queryParams"</span>: { <span class="key">"city"</span>: <span class="string">"San Francisco"</span> }
        },
        <span class="key">"output"</span>: {
          <span class="key">"type"</span>: <span class="string">"json"</span>,
          <span class="key">"example"</span>: { <span class="key">"temperature"</span>: <span class="number">72</span>, <span class="key">"weather"</span>: <span class="string">"foggy"</span> }
        }
      },
      <span class="key">"schema"</span>: {
        <span class="key">"$schema"</span>: <span class="string">"https://json-schema.org/draft/2020-12/schema"</span>,
        <span class="key">"type"</span>: <span class="string">"object"</span>,
        <span class="key">"properties"</span>: {
          <span class="key">"input"</span>: {
            <span class="key">"type"</span>: <span class="string">"object"</span>,
            <span class="key">"properties"</span>: {
              <span class="key">"type"</span>: { <span class="key">"type"</span>: <span class="string">"string"</span>, <span class="key">"const"</span>: <span class="string">"http"</span> },
              <span class="key">"method"</span>: { <span class="key">"type"</span>: <span class="string">"string"</span>, <span class="key">"enum"</span>: [<span class="string">"GET"</span>] },
              <span class="key">"queryParams"</span>: {
                <span class="key">"type"</span>: <span class="string">"object"</span>,
                <span class="key">"properties"</span>: {
                  <span class="key">"city"</span>: { <span class="key">"type"</span>: <span class="string">"string"</span> }
                },
                <span class="key">"required"</span>: [<span class="string">"city"</span>]
              }
            }
          }
        }
      }
    }
  }
}</div>
        <div class="schema-card-note tip">
          <strong>Tip:</strong> <code>info</code> is "show me an example" &mdash; agents use it to understand your API at a glance. <code>schema</code> is "give me the contract" &mdash; agents use it to validate requests before sending.
        </div>
      </div>

      <!-- V1 outputSchema -->
      <div class="schema-card">
        <div class="schema-card-title">
          <h3>V1 outputSchema</h3>
          <span class="schema-badge legacy">Legacy</span>
        </div>
        <p class="schema-card-desc">
          The older approach places an <code>outputSchema</code> on each <code>accepts[]</code> entry. It defines <code>input</code> (HTTP method and fields) and <code>output</code> (response shape). Still supported, but V2 Bazaar is the standard going forward.
        </p>
        <div class="code-block">{
  <span class="key">"x402Version"</span>: <span class="number">2</span>,
  <span class="key">"accepts"</span>: [{
    <span class="key">"scheme"</span>: <span class="string">"exact"</span>,
    <span class="key">"network"</span>: <span class="string">"eip155:8453"</span>,
    <span class="key">"payTo"</span>: <span class="string">"0x..."</span>,
    <span class="key">"asset"</span>: <span class="string">"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913"</span>,
    <span class="key">"amount"</span>: <span class="string">"10000"</span>,
    <span class="key">"outputSchema"</span>: {
      <span class="key">"input"</span>: {
        <span class="key">"type"</span>: <span class="string">"http"</span>,
        <span class="key">"method"</span>: <span class="string">"POST"</span>,
        <span class="key">"bodyType"</span>: <span class="string">"json"</span>,
        <span class="key">"bodyFields"</span>: {
          <span class="key">"prompt"</span>: {
            <span class="key">"type"</span>: <span class="string">"string"</span>,
            <span class="key">"required"</span>: <span class="number">true</span>,
            <span class="key">"description"</span>: <span class="string">"The prompt to send"</span>
          }
        }
      },
      <span class="key">"output"</span>: {
        <span class="key">"result"</span>: { <span class="key">"type"</span>: <span class="string">"string"</span> }
      }
    }
  }]
}</div>
        <div class="schema-card-note warn">
          <strong>Note:</strong> x402scan requires an input schema to list a resource. If your endpoint accepts parameters, always declare them &mdash; otherwise agents won't know how to call you.
        </div>
      </div>

      <!-- SDK note -->
      <div class="schema-card-note">
        <strong>SDK note:</strong> The Coinbase x402 SDK provides <code>declareDiscoveryExtension()</code> which accepts an <code>inputSchema</code> convenience field. This is an SDK-only helper &mdash; it never appears in the 402 wire format. On the wire, schemas are always delivered via <code>extensions.bazaar</code>.
      </div>

      <!-- Source links -->
      <div class="schema-sources">
        <a href="https://github.com/coinbase/x402/blob/main/docs/extensions/bazaar.mdx" target="_blank" rel="noopener" class="schema-source-link">Coinbase Bazaar Spec &nearr;</a>
<a href="https://x402scan.com" target="_blank" rel="noopener" class="schema-source-link">x402scan &nearr;</a>
        <a href="https://x402.jobs" target="_blank" rel="noopener" class="schema-source-link">x402.jobs &nearr;</a>
        <a href="https://github.com/coinbase/x402" target="_blank" rel="noopener" class="schema-source-link">Coinbase x402 SDK &nearr;</a>
      </div>
    </div>

    <!-- FAQ -->
    <div class="faq-section">
      <h2 class="faq-title">FAQ</h2>

      <details class="faq-item">
        <summary class="faq-question">
          <span>What is x402?</span>
          <span class="arrow">â–¶</span>
        </summary>
        <div class="faq-answer">
          x402 is a protocol for machine-to-machine payments over HTTP. When an endpoint requires payment, it returns HTTP status <code>402 Payment Required</code> with a config describing how to pay. Agents read this config, send payment, then retry with proof.
        </div>
      </details>

      <details class="faq-item">
        <summary class="faq-question">
          <span>What should my endpoint return?</span>
          <span class="arrow">â–¶</span>
        </summary>
        <div class="faq-answer">
          For unpaid requests: HTTP status <code>402</code> with config in response body (JSON) or <code>PAYMENT-REQUIRED</code> header (base64). After payment verification: return <code>200</code> with your actual response.
        </div>
      </details>

      <details class="faq-item">
        <summary class="faq-question">
          <span>Which chains and formats are supported?</span>
          <span class="arrow">â–¶</span>
        </summary>
        <div class="faq-answer">
          <strong>Chains:</strong> <code>base</code> (eip155:8453), <code>solana</code> (solana:5eykt...), <code>base-sepolia</code>, <code>solana-devnet</code>, <code>avalanche</code>, and more. Networks use <a href="https://github.com/ChainAgnostic/CAIPs/blob/main/CAIPs/caip-2.md" target="_blank" rel="noopener">CAIP-2</a> identifiers internally.<br><br>
          <strong>Formats:</strong> Three formats are supported: Flat (legacy), v1 (accepts), and v2 (canonical). All work, but v2 is recommended for new endpoints.<br><br>
          Powered by the <a href="https://github.com/rawgroundbeef/x402check.com" target="_blank" rel="noopener">x402check SDK</a>.
        </div>
      </details>

      <details class="faq-item">
        <summary class="faq-question">
          <span>Why is my config failing?</span>
          <span class="arrow">â–¶</span>
        </summary>
        <div class="faq-answer">
          Common issues:<br>
          â€¢ Missing address or amount<br>
          â€¢ Wrong chain name (must be lowercase: <code>solana</code> not <code>Solana</code>)<br>
          â€¢ Address format doesn't match chain (base58 for Solana, 0x for Base)<br>
          â€¢ Endpoint not returning 402 status
        </div>
      </details>

      <details class="faq-item">
        <summary class="faq-question">
          <span>How do I list on x402jobs?</span>
          <span class="arrow">â–¶</span>
        </summary>
        <div class="faq-answer">
          Add marketplace metadata (name, description, outputSchema) to your v2 config, then submit at <a href="https://x402jobs.com" target="_blank" rel="noopener">x402jobs.com</a>. Complete listings get better placement.
        </div>
      </details>

      <details class="faq-item">
        <summary class="faq-question">
          <span>How do I define API parameters for my resource?</span>
          <span class="arrow">â–¶</span>
        </summary>
        <div class="faq-answer">
          Add a schema to your 402 response so agents know what parameters to send. The recommended approach is the <a href="#schema-section">V2 Bazaar extension</a> (<code>extensions.bazaar</code>) which includes both an example and a JSON Schema. See the <a href="#schema-section">Define Your Schema</a> section above, or read the <a href="https://github.com/coinbase/x402/blob/main/docs/extensions/bazaar.mdx" target="_blank" rel="noopener">Coinbase Bazaar spec</a>.
        </div>
      </details>

      <details class="faq-item">
        <summary class="faq-question">
          <span>What is the Bazaar extension?</span>
          <span class="arrow">â–¶</span>
        </summary>
        <div class="faq-answer">
          Bazaar is the official discovery layer for x402 resources. It lives at <code>extensions.bazaar</code> in your 402 response and has two parts: <code>info</code> ("show me an example" &mdash; concrete values an agent can try) and <code>schema</code> ("give me the contract" &mdash; a JSON Schema defining types, constraints, and required fields). Together they let agents discover, validate, and call your API automatically. See the <a href="https://github.com/coinbase/x402/blob/main/docs/extensions/bazaar.mdx" target="_blank" rel="noopener">Coinbase Bazaar spec</a> for details.
        </div>
      </details>
    </div>

    <!-- Footer -->
    <footer class="footer">
      Made by <a href="https://x.com/rawgroundbeef" target="_blank" rel="noopener">@rawgroundbeef</a> &nbsp;&middot;&nbsp; <a href="https://github.com/rawgroundbeef/x402check.com" target="_blank" rel="noopener">GitHub</a> &nbsp;&middot;&nbsp; Powered by <a href="https://openfacilitator.io" target="_blank" rel="noopener">OpenFacilitator</a>
    </footer>
  </div>


  <script>
    // Theme toggle
    document.getElementById('themeToggle').addEventListener('click', function() {
      var isLight = document.documentElement.getAttribute('data-theme') === 'light';
      var next = isLight ? 'dark' : 'light';
      document.documentElement.setAttribute('data-theme', next);
      localStorage.setItem('x402check-theme', next);
    });
  </script>

  <!-- Scripts: SDK IIFE bundle + input handler with adapter -->
  <script src="x402check.iife.js"></script>
  <script src="input.js"></script>

  <script>
    // Elements
    const inputEl = document.getElementById('input');
    const validateBtn = document.getElementById('validate');
    const resultsEl = document.getElementById('results');
    const loadExampleBtn = document.getElementById('load-example');

    // Method pill toggle
    let currentMethod = 'GET';
    document.getElementById('method-toggle').addEventListener('click', function(e) {
      const pill = e.target.closest('.method-pill');
      if (!pill) return;
      currentMethod = pill.dataset.method;
      this.querySelectorAll('.method-pill').forEach(p => p.classList.remove('active'));
      pill.classList.add('active');
    });

    // Example configs
    const examples = {
      v2: `{
  "x402Version": 2,
  "resource": {
    "url": "https://api.example.com/endpoint"
  },
  "accepts": [{
    "scheme": "exact",
    "network": "solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",
    "payTo": "5F5Yy9qJov8xK67vEWRoZHppWHEmH3WuG7mSfvLuqUTz",
    "asset": "EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",
    "amount": "25000",
    "maxTimeoutSeconds": 300
  }]
}`,
      v1: `{
  "x402Version": 1,
  "accepts": [{
    "scheme": "exact",
    "network": "solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",
    "payTo": "5F5Yy9qJov8xK67vEWRoZHppWHEmH3WuG7mSfvLuqUTz",
    "maxAmountRequired": "25000",
    "asset": "EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"
  }]
}`,
      flat: `{
  "amount": "25000",
  "currency": "USDC",
  "network": "solana",
  "payTo": "5F5Yy9qJov8xK67vEWRoZHppWHEmH3WuG7mSfvLuqUTz"
}`,
      marketplace: `{
  "x402Version": 2,
  "resource": {
    "url": "https://api.example.com/endpoint"
  },
  "accepts": [{
    "scheme": "exact",
    "network": "eip155:8453",
    "payTo": "0x1234567890abcdef1234567890abcdef12345678",
    "asset": "0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",
    "amount": "10000",
    "maxTimeoutSeconds": 300
  }],
  "extensions": {
    "outputSchema": {
      "type": "object",
      "properties": { "result": { "type": "string" } }
    },
    "metadata": {
      "name": "My API",
      "description": "Does something useful",
      "category": "ai"
    }
  }
}`
    };

    let currentTab = 'v2';

    // Tab switching
    document.querySelectorAll('.tab').forEach(tab => {
      tab.addEventListener('click', () => {
        currentTab = tab.dataset.tab;
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        tab.classList.add('active');
        document.querySelectorAll('.example-panel').forEach(p => p.style.display = 'none');
        document.getElementById(`example-${currentTab}`).style.display = 'block';
      });
    });

    // Load example
    loadExampleBtn.addEventListener('click', () => {
      inputEl.value = examples[currentTab];
    });

    // Validate
    validateBtn.addEventListener('click', async () => {
      const value = inputEl.value.trim();
      if (!value) {
        displayError('Please enter a URL or JSON config');
        return;
      }

      validateBtn.disabled = true;
      validateBtn.innerHTML = '<span>Validating...</span>';

      try {
        await handleValidation(value, currentMethod, displayResults, displayError);
      } catch (e) {
        displayError(e.message);
      } finally {
        validateBtn.disabled = false;
        validateBtn.innerHTML = '<svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg> Validate';
      }
    });

    // Helper: format atomic amount using registry decimals
    function formatCheckAmount(amount, decimals) {
      if (decimals == null) return amount || '\u2014';
      const num = parseInt(amount, 10);
      if (isNaN(num)) return amount;
      return (num / 10 ** decimals).toFixed(decimals > 2 ? 2 : decimals);
    }

    // Helper: truncate long addresses for display
    function truncateAddr(addr) {
      if (!addr) return '\u2014';
      if (addr.length <= 14) return addr;
      return addr.slice(0, 8) + '...' + addr.slice(-6);
    }

    function displayResults(result) {
      let html = '';
      const validation = result.validation;
      const config = result.config;
      const checks = result.type === 'url' ? result.checks : null;

      if (validation && typeof validation.valid !== 'undefined') {
        html += '<div class="result-card">';
        html += renderVerdict(validation);
        html += renderDetails(validation, config, result, checks);
        html += '</div>';
      } else if (result.type === 'url') {
        html += '<div class="error-card"><strong>No payment config found</strong><br>The endpoint returned ' + result.status + ' but no valid JSON config was extracted from the response body or PAYMENT-REQUIRED header.</div>';
      }

      resultsEl.innerHTML = html;
      resultsEl.classList.remove('hidden');
    }

    function renderVerdict(validation) {
      if (!validation || typeof validation.valid === 'undefined') {
        return '<div class="error-card"><strong>Validation error</strong><br>Could not validate the config.</div>';
      }

      const isValid = validation.valid;
      const checkSvg = '<svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M5 13l4 4L19 7"/></svg>';
      const xSvg = '<svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M6 18L18 6M6 6l12 12"/></svg>';

      let countText = '';
      if (!isValid && validation.errors.length > 0) {
        countText = `${validation.errors.length} error${validation.errors.length !== 1 ? 's' : ''}`;
      } else if (isValid && validation.warnings.length > 0) {
        countText = `${validation.warnings.length} warning${validation.warnings.length !== 1 ? 's' : ''}`;
      }

      const versionBadge = validation.version && validation.version !== 'unknown'
        ? `<span class="verdict-version">${escapeHtml(validation.version)}</span>`
        : '';

      return `<div class="verdict-line">
        <span class="verdict-icon-inline ${isValid ? 'valid' : 'invalid'}">${isValid ? checkSvg : xSvg}</span>
        <span class="verdict-text ${isValid ? 'valid' : 'invalid'}">${isValid ? 'Valid' : 'Invalid'}</span>
        ${countText ? `<span class="verdict-count">&middot; ${countText}</span>` : ''}
        ${versionBadge}
      </div>`;
    }

    function renderDetails(validation, config, result, checks) {
      if (!validation || typeof validation.valid === 'undefined') return '';

      let html = '';

      // Extraction error (no config found at all)
      if (!validation.extracted && validation.extractionError) {
        html += `<div class="error-messages"><div class="error-message">${escapeHtml(validation.extractionError)}</div></div>`;
      }

      // Errors shown directly (not expandable)
      if (validation.errors.length > 0) {
        html += '<div class="error-messages">';
        validation.errors.forEach(err => {
          html += `<div class="error-message">${escapeHtml(err.message)}${err.fix ? ' <span class="issue-row-fix">\u2192 ' + escapeHtml(err.fix) + '</span>' : ''}</div>`;
        });
        html += '</div>';
      }

      // Expandable sections
      html += '<div class="expand-links">';

      // Warnings (expandable, only if present)
      if (validation.warnings.length > 0) {
        html += `<details class="expand-section">
          <summary class="expand-link"><span class="chevron">\u25B8</span> View warnings</summary>
          <div class="expand-content">`;
        validation.warnings.forEach(warn => {
          html += `<div class="warning-row">
            ${warn.field && warn.field !== '$' ? `<span class="warning-field">${escapeHtml(warn.field)}</span>` : ''}
            <span>${escapeHtml(warn.message)}${warn.fix ? ' <span class="issue-row-fix">\u2192 ' + escapeHtml(warn.fix) + '</span>' : ''}</span>
          </div>`;
        });
        html += '</div></details>';
      }

      // Parsed config (expandable) â€” uses AcceptSummary from check()
      if (validation.summary && validation.summary.length > 0) {
        const s = validation.summary[0];
        const displayAmount = formatCheckAmount(s.amount, s.assetDecimals);
        const formatLabels = { 'v1': 'v1', 'v2': 'v2 (Canonical)', 'unknown': 'Unknown' };
        html += `<details class="expand-section">
          <summary class="expand-link"><span class="chevron">\u25B8</span> View parsed config</summary>
          <div class="expand-content">
            <div class="parsed-config">
              <div class="parsed-row"><span class="parsed-label">Chain</span><span class="parsed-value">${escapeHtml(s.networkName || '\u2014')}</span></div>
              <div class="parsed-row"><span class="parsed-label">Address</span><span class="parsed-value truncate" title="${escapeHtml(s.payTo || '')}">${escapeHtml(truncateAddr(s.payTo))}</span></div>
              <div class="parsed-row"><span class="parsed-label">Amount</span><span class="parsed-value">${escapeHtml(displayAmount)} ${escapeHtml(s.assetSymbol || '')}</span></div>
              <div class="parsed-row"><span class="parsed-label">Asset</span><span class="parsed-value">${s.assetSymbol ? escapeHtml(s.assetSymbol) + ' (' + escapeHtml(truncateAddr(s.asset)) + ')' : escapeHtml(s.asset || '\u2014')}</span></div>
              <div class="parsed-row"><span class="parsed-label">Scheme</span><span class="parsed-value">${escapeHtml(s.scheme || '\u2014')}</span></div>
              <div class="parsed-row"><span class="parsed-label">Format</span><span class="parsed-value">${formatLabels[validation.version] || escapeHtml(validation.version)}</span></div>
            </div>
            ${validation.version !== 'v2' ? '<button class="upgrade-btn" onclick="showV2Equivalent()" style="margin-top: 8px;">Show v2 equivalent \u2192</button>' : ''}
          </div>
        </details>`;
      }

      // Endpoint checks (expandable, URL only)
      if (checks) {
        const checkOrder = ['returns402', 'hasCors', 'hasConfig', 'hasHeader', 'formatCheck'];
        const checkLabels = { returns402: 'Returns 402', hasCors: 'CORS accessible', hasConfig: 'Valid payment config', hasHeader: 'PAYMENT-REQUIRED header', formatCheck: 'Using v2 format' };
        html += `<details class="expand-section">
          <summary class="expand-link"><span class="chevron">\u25B8</span> View endpoint checks</summary>
          <div class="expand-content">`;
        checkOrder.forEach(key => {
          if (checks[key]) {
            const pass = checks[key].pass;
            html += `<div class="check-row ${pass ? 'pass' : 'fail'}">
              <span>${pass ? '\u2713' : '\u2717'}</span>
              <span>${checkLabels[key]}${checks[key].detail ? ' (' + checks[key].detail + ')' : ''}</span>
            </div>`;
          }
        });
        html += '</div></details>';
      }

      // Response body (expandable, URL only)
      if (result && result.type === 'url' && result.rawBody) {
        let formattedBody = result.rawBody;
        try { formattedBody = JSON.stringify(JSON.parse(result.rawBody), null, 2); } catch(e) {}
        html += `<details class="expand-section">
          <summary class="expand-link"><span class="chevron">\u25B8</span> View response body</summary>
          <div class="expand-content">
            <div style="position: relative;">
              <button class="copy-btn" onclick="copyResponseBody(this)" style="position: absolute; top: 8px; right: 8px; z-index: 1;">Copy</button>
              <div class="raw-content" id="response-body-content">${escapeHtml(formattedBody)}</div>
            </div>
          </div>
        </details>`;
      }

      // Raw config (expandable, JSON input only)
      if (config && (!result || result.type !== 'url')) {
        html += `<details class="expand-section">
          <summary class="expand-link"><span class="chevron">\u25B8</span> View raw config</summary>
          <div class="expand-content">
            <div class="raw-content">${escapeHtml(JSON.stringify(config, null, 2))}</div>
          </div>
        </details>`;
      }

      html += '</div>';

      // Fix with AI (only on errors)
      if (!validation.valid && validation.errors.length > 0) {
        const rawConfig = validation.raw || config;
        const configStr = rawConfig ? JSON.stringify(rawConfig, null, 2) : inputEl.value.trim();
        const prompt = generateFixPrompt(validation.errors, validation.warnings, configStr);
        html += `<details class="fix-with-ai">
          <summary class="fix-with-ai-header">
            <span class="fix-with-ai-title"><span class="chevron">\u25B8</span> Fix with AI</span>
            <div class="fix-with-ai-actions">
              <button class="copy-btn" onclick="event.stopPropagation(); copyFixPrompt(this);">Copy prompt</button>
            </div>
          </summary>
          <pre class="prompt-box" id="fix-prompt">${escapeHtml(prompt)}</pre>
        </details>`;
      }

      return html;
    }

    function generateFixPrompt(errors, warnings, configStr) {
      var errorList = errors.map(function(e) { return '- ' + e.message; }).join('\n');
      var warningList = '';
      if (warnings.length > 0) {
        warningList = '\n\nWarnings:\n' + warnings.map(function(w) { return '- ' + w.message; }).join('\n');
      }
      return 'My x402 config is failing validation.\n\nErrors:\n' + errorList + warningList + '\n\nHere\'s my current config:\n```json\n' + configStr + '\n```\n\nPlease fix this to be x402 v2 compliant. The v2 format requires:\n- "x402Version": 2\n- "accepts" array with payment options\n- Each entry needs: "scheme", "network" (CAIP-2 format), "payTo", "asset", "amount" (string)\n- Optional: "maxTimeoutSeconds", "resource.url", "extensions"\n\nReturn the corrected JSON.';
    }

    function copyFixPrompt(btn) {
      var el = document.getElementById('fix-prompt');
      if (el) {
        navigator.clipboard.writeText(el.textContent).then(function() {
          btn.textContent = 'Copied!';
          btn.classList.add('copied');
          setTimeout(function() {
            btn.textContent = 'Copy prompt';
            btn.classList.remove('copied');
          }, 2000);
        });
      }
    }

    function displayError(message) {
      resultsEl.innerHTML = `
        <div class="result-card">
          <div class="verdict-line">
            <span class="verdict-icon-inline invalid">
              <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M6 18L18 6M6 6l12 12"/>
              </svg>
            </span>
            <span class="verdict-text invalid">Error</span>
          </div>
          <div class="error-messages">
            <div class="error-message">${message}</div>
          </div>
        </div>`;
      resultsEl.classList.remove('hidden');
    }

    function copyResponseBody(btn) {
      const content = document.getElementById('response-body-content');
      if (content) {
        navigator.clipboard.writeText(content.textContent).then(() => {
          btn.textContent = 'Copied!';
          btn.classList.add('copied');
          setTimeout(() => {
            btn.textContent = 'Copy';
            btn.classList.remove('copied');
          }, 2000);
        });
      }
    }

    function escapeHtml(text) {
      const div = document.createElement('div');
      div.textContent = text;
      return div.innerHTML;
    }

    function showV2Equivalent() {
      try {
        const config = JSON.parse(inputEl.value);
        const normalized = window.x402Validate.normalize(config);
        if (normalized) {
          inputEl.value = JSON.stringify(normalized, null, 2);
          validateBtn.click();
        }
      } catch (e) {
        // ignore
      }
    }

    // Integration cards: copy to clipboard with checkmark feedback
    var copyIcon = '<svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>';
    var checkIcon = '<svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M5 13l4 4L19 7"/></svg>';
    document.querySelectorAll('.copy-btn').forEach(function(btn) {
      btn.addEventListener('click', function(e) {
        e.stopPropagation();
        var text = btn.getAttribute('data-copy');
        navigator.clipboard.writeText(text).then(function() {
          btn.innerHTML = checkIcon;
          btn.classList.add('copied');
          setTimeout(function() {
            btn.innerHTML = copyIcon;
            btn.classList.remove('copied');
          }, 1500);
        });
      });
    });
  </script>
</body>
</html>
